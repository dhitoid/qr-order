<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dhito Cafe 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
--bg:#0b0f1a;
--card:rgba(255,255,255,0.05);
--glass:rgba(255,255,255,0.08);
--accent:#4f9cff;
--accent2:#7ab8ff;
--danger:#ff453a;
--radius:28px;
}

*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:'Inter',sans-serif;
}

body{
background:
radial-gradient(circle at 20% 0%,rgba(79,156,255,0.25),transparent 40%),
radial-gradient(circle at 80% 20%,rgba(122,184,255,0.15),transparent 40%),
linear-gradient(180deg,#0a0f1c,#0e1627);
color:white;
overflow-x:hidden;
padding-bottom:140px;
}

/* ================= DYNAMIC ISLAND 2026 ================= */
.dynamic-island{
position:fixed;
top:22px;
left:50%;
transform:translateX(-50%) scale(1);
padding:14px 26px;
border-radius:50px;
font-size:14px;
font-weight:600;
letter-spacing:.3px;

background:linear-gradient(145deg,rgba(255,255,255,0.08),rgba(255,255,255,0.03));
backdrop-filter:blur(40px);
border:1px solid rgba(255,255,255,0.12);

box-shadow:
0 8px 40px rgba(0,0,0,0.6),
0 0 30px rgba(79,156,255,0.25);

transition:all .6s cubic-bezier(.22,1,.36,1);
z-index:9999;
}

.dynamic-island.expand{
width:320px;
border-radius:32px;
transform:translateX(-50%) scale(1.05);
}

.island-badge{
background:var(--danger);
padding:5px 10px;
font-size:11px;
border-radius:20px;
margin-left:10px;
animation:pulse 1.2s infinite;
}

@keyframes pulse{
0%{transform:scale(1)}
50%{transform:scale(1.15)}
100%{transform:scale(1)}
}

/* ================= HEADER ================= */
.header{
text-align:center;
padding:110px 20px 40px;
font-size:32px;
font-weight:700;
background:linear-gradient(90deg,#fff,#9ecbff);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

/* ================= CATEGORY ================= */
.categories{
display:flex;
gap:12px;
padding:0 20px 25px;
overflow-x:auto;
}

.categories button{
background:var(--glass);
border:1px solid rgba(255,255,255,0.08);
padding:10px 20px;
border-radius:30px;
color:rgba(255,255,255,0.7);
cursor:pointer;
transition:all .4s ease;
backdrop-filter:blur(20px);
}

.categories button.active{
background:linear-gradient(135deg,var(--accent),var(--accent2));
color:white;
box-shadow:0 0 20px rgba(79,156,255,0.5);
}

/* ================= MENU CARD ================= */
.menu-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(170px,1fr));
gap:22px;
padding:0 20px;
}

.card{
background:var(--card);
backdrop-filter:blur(30px);
border:1px solid rgba(255,255,255,0.08);
border-radius:var(--radius);
padding:16px;
transition:all .5s cubic-bezier(.22,1,.36,1);
}

.card:hover{
transform:translateY(-8px) scale(1.03);
box-shadow:0 15px 40px rgba(79,156,255,0.25);
}

.card img{
width:100%;
height:130px;
object-fit:cover;
border-radius:20px;
margin-bottom:12px;
}

.price{
color:#9ecbff;
font-weight:600;
margin-bottom:12px;
}

.card button{
width:100%;
padding:12px;
border:none;
border-radius:20px;
background:linear-gradient(135deg,var(--accent),var(--accent2));
color:white;
font-weight:600;
cursor:pointer;
transition:.3s;
}

.card button:hover{
transform:scale(1.05);
}

/* ================= FLOATING CART ================= */
.floating-cart{
position:fixed;
right:22px;
bottom:24px;
width:65px;
height:65px;
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
font-size:24px;
cursor:pointer;

background:linear-gradient(145deg,var(--accent),var(--accent2));
box-shadow:
0 15px 35px rgba(79,156,255,0.4),
0 0 25px rgba(79,156,255,0.3);

transition:all .4s ease;
}

.floating-cart:hover{
transform:scale(1.1);
}

.cart-count{
position:absolute;
top:-6px;
right:-6px;
background:var(--danger);
font-size:11px;
padding:5px 8px;
border-radius:20px;
}

/* ================= SHEET MODERN ================= */
.sheet{
position:fixed;
left:0;
right:0;
bottom:-100%;
height:85%;
background:rgba(17,26,43,0.95);
backdrop-filter:blur(50px);
border-top-left-radius:40px;
border-top-right-radius:40px;
transition:bottom .7s cubic-bezier(.22,1,.36,1);
padding:24px;
overflow-y:auto;
z-index:1000;
box-shadow:0 -20px 60px rgba(0,0,0,0.6);
}

.sheet.show{bottom:0;}

.sheet .handle{
width:60px;
height:6px;
background:rgba(255,255,255,0.3);
border-radius:20px;
margin:0 auto 20px;
}

.cart-item{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:14px;
padding-bottom:14px;
border-bottom:1px solid rgba(255,255,255,0.08);
}

.checkout-btn{
margin-top:20px;
width:100%;
padding:16px;
border:none;
border-radius:24px;
background:linear-gradient(135deg,var(--accent),var(--accent2));
color:white;
font-weight:600;
cursor:pointer;
transition:.4s;
}

.checkout-btn:hover{
transform:scale(1.04);
box-shadow:0 10px 30px rgba(79,156,255,0.4);
}

.input{
width:100%;
padding:15px;
border-radius:20px;
border:1px solid rgba(255,255,255,0.08);
margin-bottom:14px;
background:rgba(255,255,255,0.05);
color:white;
backdrop-filter:blur(20px);
}

/* === NOTIFICATION COLORS 2026 === */
.dynamic-island.success{
background:linear-gradient(135deg,#1db954,#1ed760);
box-shadow:0 0 30px rgba(30,215,96,0.4);
}

.dynamic-island.info{
background:linear-gradient(135deg,#4f9cff,#7ab8ff);
box-shadow:0 0 30px rgba(79,156,255,0.4);
}

.dynamic-island.danger{
background:linear-gradient(135deg,#ff3b30,#ff6b60);
box-shadow:0 0 30px rgba(255,59,48,0.4);
}

.dynamic-island.warning{
background:linear-gradient(135deg,#ff9f0a,#ffb340);
box-shadow:0 0 30px rgba(255,159,10,0.4);
}

/* === CHECKOUT PROGRESS ISLAND === */
.island-progress{
margin-top:8px;
height:6px;
background:rgba(255,255,255,0.2);
border-radius:10px;
overflow:hidden;
}

.island-progress-bar{
height:100%;
width:0%;
background:linear-gradient(90deg,#4f9cff,#7ab8ff);
transition:width .6s cubic-bezier(.22,1,.36,1);
}

.hero{
padding:120px 20px 40px;
text-align:left;
}

.greeting{
font-size:14px;
opacity:.6;
margin-bottom:8px;
}

.headline{
font-size:34px;
font-weight:700;
line-height:1.2;
background:linear-gradient(90deg,#fff,#9ecbff);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.badge{
position:absolute;
background:#1db954;
color:white;
font-size:10px;
padding:4px 8px;
border-radius:20px;
top:12px;
left:12px;
}

.badge.promo{
background:#ff453a;
}
.card{position:relative;}

.loyalty{
margin:20px;
}

.loyalty-text{
font-size:13px;
margin-bottom:6px;
opacity:.7;
}

.loyalty-bar{
height:8px;
background:rgba(255,255,255,0.1);
border-radius:20px;
overflow:hidden;
}

.loyalty-fill{
height:100%;
width:40%;
background:linear-gradient(90deg,#1db954,#1ed760);
transition:width .6s ease;
}

/* === PAYMENT STATES === */
.island-status{
font-size:13px;
opacity:.8;
margin-top:6px;
}

.island-progress{
margin-top:10px;
height:6px;
background:rgba(255,255,255,0.15);
border-radius:10px;
overflow:hidden;
}

.island-progress-bar{
height:100%;
width:0%;
background:linear-gradient(90deg,#1db954,#4f9cff);
transition:width .8s cubic-bezier(.22,1,.36,1);
}

.dynamic-island.payment{
background:linear-gradient(145deg,#1c2738,#0f1725);
border:1px solid rgba(255,255,255,0.15);
box-shadow:0 0 40px rgba(79,156,255,0.35);
}
</style>
</head>
<body>

<div class="dynamic-island" id="island">‚òï Dhito Cafe</div>

<div class="hero">
  <div class="greeting" id="greeting"></div>
  <div class="headline">Siap ngopi hari ini?</div>
</div>

<div class="categories">
<button class="active" onclick="filterMenu('all',this)">Semua</button>
<button onclick="filterMenu('makanan',this)">Makanan</button>
<button onclick="filterMenu('minuman',this)">Minuman</button>
<button onclick="filterMenu('cemilan',this)">Cemilan</button>
<button onclick="filterMenu('promo',this)">Promo</button>
</div>

<div class="menu-grid" id="menu"></div>
<div class="loyalty">
  <div class="loyalty-text">Level Silver ü•à</div>
  <div class="loyalty-bar">
    <div class="loyalty-fill" id="loyaltyFill"></div>
  </div>
</div>
<div class="floating-cart" onclick="openSheet()">
üõí
<div class="cart-count" id="cartCount">0</div>
</div>

<div class="sheet" id="sheet">
<div class="handle"></div>

<h3>Detail Pesanan</h3>
<div id="cartItems"></div>
<h4 id="total"></h4>

<hr style="margin:15px 0;border-color:rgba(255,255,255,0.1)">

<h3>Pembayaran</h3>
<input class="input" placeholder="Nama">
<input class="input" placeholder="No HP">
<select class="input">
<option>Metode Pembayaran</option>
<option>Cash</option>
<option>QRIS</option>
<option>Transfer</option>
</select>

<button class="checkout-btn" onclick="checkout()">Bayar Sekarang</button>
</div>

<script>
const island=document.getElementById("island");
const menuEl=document.getElementById("menu");
const sheet=document.getElementById("sheet");
const cartCount=document.getElementById("cartCount");

let cart=JSON.parse(localStorage.getItem("dhito_cart")||"[]");
let filter="all";

const data=[
{nama:"Nasi Goreng",harga:25000,kategori:"makanan",img:"https://source.unsplash.com/400x300/?friedrice"},
{nama:"Es Kopi",harga:18000,kategori:"minuman",img:"https://source.unsplash.com/400x300/?coffee"},
{nama:"Kentang",harga:15000,kategori:"cemilan",img:"https://source.unsplash.com/400x300/?fries"},
{nama:"Paket Hemat",harga:45000,kategori:"promo",img:"https://source.unsplash.com/400x300/?foodcombo"}
];

function render(){
menuEl.innerHTML="";
data.filter(d=>filter==="all"||d.kategori===filter)
.forEach(d=>{

let badge = d.kategori==="promo"
? `<div class="badge promo">PROMO</div>`
: `<div class="badge">BEST SELLER</div>`;

menuEl.innerHTML+=`
<div class="card">
${badge}
<img src="${d.img}">
<h4>${d.nama}</h4>
<div class="price">Rp ${d.harga.toLocaleString()}</div>
<button onclick="add('${d.nama}')">Tambah</button>
</div>`;
});
}

function filterMenu(k,btn){
filter=k;
document.querySelectorAll(".categories button").forEach(b=>b.classList.remove("active"));
btn.classList.add("active");
render();
}

function setGreeting(){
let hour=new Date().getHours();
let greet="Selamat Datang";

if(hour<11) greet="Selamat Pagi ‚òÄÔ∏è";
else if(hour<15) greet="Selamat Siang üå§";
else if(hour<18) greet="Selamat Sore üåá";
else greet="Selamat Malam üåô";

document.getElementById("greeting").innerText=greet+", Dhito";
}

setGreeting();

function checkoutProgress(){

island.classList.remove("success","danger","warning","info");
island.classList.add("expand","payment");

island.innerHTML=`
üí≥ Memproses Pembayaran
<div class="island-status" id="payStatus">
Menghubungi gateway...
</div>
<div class="island-progress">
<div class="island-progress-bar" id="progressBar"></div>
</div>
`;

let bar=document.getElementById("progressBar");
let status=document.getElementById("payStatus");

let steps=[
{w:20, text:"Menghubungi gateway..."},
{w:45, text:"Verifikasi keamanan üîê"},
{w:70, text:"Menunggu konfirmasi bank..."},
{w:90, text:"Menyelesaikan transaksi..."},
{w:100, text:"Pembayaran berhasil ‚úÖ"}
];

let i=0;

let interval=setInterval(()=>{
bar.style.width=steps[i].w+"%";
status.innerText=steps[i].text;
i++;

if(i>=steps.length){
clearInterval(interval);

setTimeout(()=>{
island.classList.remove("payment");
island.classList.add("success");

let total=document.getElementById("total").innerText;

island.innerHTML=`
üéâ Pembayaran Sukses
<div class="island-status">${total}</div>
`;

confettiEffect();

setTimeout(()=>{
island.classList.remove("expand","success");
island.innerHTML="‚òï Dhito Cafe";
},2500);

},700 + Math.random()*600);
}

},700 + Math.random()*600);
}

function add(n){
let item=cart.find(i=>i.nama===n);
if(item){
item.qty++;
notify(`üîÑ ${n} (${item.qty}x)`,"info");
}else{
let d=data.find(x=>x.nama===n);
cart.push({...d,qty:1});
notify(`‚úÖ ${n} ditambahkan`,"success");
}
saveCart();
updateCart();
}

function updateCart(){
let total=0;
document.getElementById("cartItems").innerHTML=
cart.map((i,idx)=>{
total+=i.harga*i.qty;
return `<div class="cart-item">
<span>${i.nama}</span>
<div class="qty-control">
<button onclick="decrease(${idx})">‚àí</button>
<span>${i.qty}</span>
<button onclick="increase(${idx})">+</button>
</div>
</div>`;
}).join("");

document.getElementById("total").innerText="Total: Rp "+total.toLocaleString();
cartCount.innerText=cart.reduce((a,b)=>a+b.qty,0);

cartCount.classList.add("bounce");
setTimeout(()=>cartCount.classList.remove("bounce"),300);
}

function increase(i){
cart[i].qty++;
notify(`üîÑ ${cart[i].nama} (${cart[i].qty}x)`,"info");
saveCart();
updateCart();
}

function decrease(i){
let name = cart[i].nama;
cart[i].qty--;

if(cart[i].qty<=0){
cart.splice(i,1);
notify(`‚ùå ${name} dihapus`,"danger");
}else{
notify(`üîÑ ${name} (${cart[i].qty}x)`,"info");
}

saveCart();
updateCart();
}

function saveCart(){
localStorage.setItem("dhito_cart",JSON.stringify(cart));
}

function openSheet(){sheet.classList.add("show")}
function closeSheet(){sheet.classList.remove("show")}

/* CLOSE VIA HANDLE TAP */
document.querySelector(".handle").addEventListener("click",closeSheet);

/* SWIPE DOWN TO CLOSE */
let startY=0;
sheet.addEventListener("touchstart",e=>{
startY=e.touches[0].clientY;
});
sheet.addEventListener("touchmove",e=>{
let currentY=e.touches[0].clientY;
if(currentY-startY>120){
closeSheet();
}
});

function notify(text,type="info"){

island.classList.remove("success","info","danger","warning");
island.classList.add("expand",type);

island.style.opacity="0";
island.style.transform="translateX(-50%) scale(.8)";

setTimeout(()=>{
island.innerHTML=`${text}`;
island.style.opacity="1";
island.style.transform="translateX(-50%) scale(1.05)";
},120);

setTimeout(()=>{
island.classList.remove("expand",type);
island.innerHTML="‚òï Dhito Cafe";
island.style.transform="translateX(-50%) scale(1)";
},2500);
}

let points=parseInt(localStorage.getItem("dhito_points")||0);

function updateLoyalty(){
let percent=(points%100);
document.getElementById("loyaltyFill").style.width=percent+"%";
}

function confettiEffect(){
for(let i=0;i<40;i++){
let conf=document.createElement("div");
conf.style.position="fixed";
conf.style.width="6px";
conf.style.height="6px";
conf.style.background="white";
conf.style.top="50%";
conf.style.left="50%";
conf.style.opacity="0.8";
conf.style.borderRadius="50%";
conf.style.zIndex="9999";
conf.style.transform=`translate(${Math.random()*300-150}px,${Math.random()*300-150}px)`;
document.body.appendChild(conf);
setTimeout(()=>conf.remove(),800);
}
}

function checkout(){
let inputs=document.querySelectorAll(".input");
for(let i of inputs){
if(!i.value){
notify("‚ö†Ô∏è Lengkapi data dulu","warning");
return;
}
}

points+=20;
localStorage.setItem("dhito_points",points);
updateLoyalty();

closeSheet();
checkoutProgress();
confettiEffect();

cart=[];
saveCart();
updateCart();
}



updateLoyalty();
updateCart();
render();
</script>
</body>
</html>