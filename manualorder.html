<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Manual Order - Dhito Cafe</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="menuorder.css">

<script src="daftarmenu.js"></script>
</head>
<body>

<!-- DYNAMIC ISLAND -->
<div class="dynamic-island" id="island">
â˜• Manual Order
</div>

<!-- HERO -->
<div class="hero">
<div class="greeting">Mode Kasir</div>
<div class="headline">Manual Order</div>
</div>

<!-- MENU GRID -->
<div class="menu-grid" id="menuGrid"></div>

<!-- FLOATING CART -->
<div class="floating-cart" onclick="openSheet()">
ðŸ›’
<div class="cart-count" id="cartCount">0</div>
</div>

<!-- ================= SHEET ================= -->

<div class="sheet" id="sheet">

<div class="handle"></div>

<h3>Detail Order</h3>

<input class="input" id="customerName" placeholder="Nama Pelanggan">
<input class="input" id="phoneInput" placeholder="No HP (08xxxx)">

<select class="input" id="paymentMethod">
<option value="">Pilih Metode</option>
<option value="QRIS">QRIS</option>
<option value="KASIR">Bayar di Kasir</option>
</select>

<div id="cartItems"></div>

<div class="checkout-summary">
<div class="summary-row">
<span>Subtotal</span>
<span id="subtotal">Rp 0</span>
</div>

<div class="summary-row">
<span>Service</span>
<span id="service">Rp 0</span>
</div>

<div class="summary-row">
<span>Pajak</span>
<span id="tax">Rp 0</span>
</div>

<div class="summary-divider"></div>

<div class="summary-row total-row">
<span>Total</span>
<span id="grandTotal">Rp 0</span>
</div>
</div>

<button class="checkout-btn" onclick="createOrder()">
Buat Order
</button>

<br><br>

<button class="btn-secondary" onclick="window.location.href='kasir.html'">
â¬… Kembali ke Kasir
</button>

</div>

<!-- ================= MODALS (HARUS SAMA SEPERTI INDEX) ================= -->

<!-- MENU MODAL -->
<div class="menu-modal" id="menuModal">
  <div class="menu-modal-content">

    <div class="modal-handle" onclick="closeMenuModal()"></div>

    <div class="menu-modal-img" id="modalImg"></div>

    <div class="menu-modal-body">
      <h2 id="modalTitle"></h2>
      <p id="modalDesc"></p>

      <div class="topping-section">
        <h4>Pilih Topping</h4>
        <div class="topping-list" id="toppingList"></div>
      </div>

      <div class="modal-qty">
        <button onclick="decreaseModal()">âˆ’</button>
        <span id="modalQty">1</span>
        <button onclick="increaseModal()">+</button>
      </div>

      <div class="modal-price" id="modalPrice"></div>

      <button class="modal-add" id="modalAddBtn">
        Tambah ke Keranjang
      </button>

    </div>
  </div>
</div>

<!-- QRIS MODAL -->
<div class="qris-modal" id="qrisModal">
  <div class="qris-content">

    <div class="modal-handle"></div>

    <div class="qris-header">
      <h3>Pembayaran QRIS</h3>
      <button class="close-btn" onclick="cancelQris()">âœ•</button>
    </div>

    <div class="qris-total" id="qrisTotal"></div>

    <div class="qris-box">

      <div class="qris-loading" id="qrisLoading">
        <div class="spinner"></div>
        <p>Menghasilkan QR...</p>
      </div>

      <img id="qrisImage" />

      <div class="success-animation" id="successAnim">
        <div class="checkmark"></div>
      </div>

      <div class="qris-overlay-status" id="qrisOverlayStatus">
        Menunggu Pembayaran
      </div>

    </div>

    <div class="qris-timer">
      Berlaku <span id="qrisTimer">180</span> detik
    </div>

    <div class="qris-buttons">
      <button class="btn-secondary" onclick="cancelQris()">Batal</button>
      <button class="btn-primary" onclick="downloadQris()">Unduh QR</button>
    </div>

  </div>
</div>

<!-- INVOICE MODAL -->
<div class="invoice-modal" id="invoiceModal">
  <div class="invoice-content">
    <div class="modal-handle" onclick="closeInvoice()"></div>
    <h3>Invoice Pesanan</h3>
    <div id="invoiceBody"></div>
    <div class="invoice-actions">
      <button class="btn-secondary" onclick="closeInvoice()">Tutup</button>
      <button class="btn-primary" onclick="downloadInvoicePDF()">Download PDF</button>
    </div>
  </div>
</div>

<!-- ENGINE -->
<script src="menuorder.js"></script>

<script>
/* OPTIONAL: Ganti tulisan island default */
document.addEventListener("DOMContentLoaded", ()=>{
document.getElementById("island").innerText = "â˜• Manual Order";
});
</script>

</body>
</html>